import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as c,c as l,a as n,b as a,e as t,f as e}from"./app-b4641dae.js";const i="/assets/images/study/backend/java/spring-cloud-alibaba/nocas/nacos-startup-standalone.png",u="/assets/images/study/backend/java/spring-cloud-alibaba/nocas/nacos-login.png",r="/assets/images/study/backend/java/spring-cloud-alibaba/nocas/nacos-home.png",d="/assets/images/study/backend/java/spring-cloud-alibaba/nocas/nacos-mysql.png",g="/assets/images/study/backend/java/spring-cloud-alibaba/nocas/nacos-server-list.png",k={},m=n("h1",{id:"nacos",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#nacos","aria-hidden":"true"},"#"),a(" Nacos")],-1),b=n("h2",{id:"文档地址",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#文档地址","aria-hidden":"true"},"#"),a(" 文档地址")],-1),v={href:"https://nacos.io/zh-cn/docs/v2/what-is-nacos.html",target:"_blank",rel:"noopener noreferrer"},h=n("h2",{id:"快速开始",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#快速开始","aria-hidden":"true"},"#"),a(" 快速开始")],-1),f=n("h3",{id:"nacos服务端安装启动",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#nacos服务端安装启动","aria-hidden":"true"},"#"),a(" Nacos服务端安装启动")],-1),_=n("p",null,"我们这里根据 Spring Cloud Alibaba 毕业版本推荐选择了 2.2.1 的版本，相比于 Eureka 来说，Nacos 同样也分为客户端和服务端，不过服务端不需要我们自行搭建，我们直接下载使用官方的即可，这里你可以选择下载二进制包直接使用或者 Docker 镜像的方式都可以，我们这里使用下载二进制包的方法，可以去下面网址找到你想要的版本进行下载。",-1),y={href:"https://github.com/alibaba/nacos/tags",target:"_blank",rel:"noopener noreferrer"},I=e(`<p>下载完成后启动前，这里值得注意的是 Nacos 在<strong>2.2.0.1</strong>和<strong>2.2.1</strong>版本后，必须修改 conf 目录下的 application.properties 文件设置其中的 <strong>nacos.core.auth.plugin.nacos.token.secret.key</strong> 值，否则不能启动，该参数是鉴权用于生成用户登陆临时accessToken所使用的密钥，默认可以使用<code>SecretKey012345678901234567890123456789012345678901234567890123456789</code>，该值可用于临时测试，实际使用时请务必更换为自定义的其他有效值。如果你不想使用内置数据库想绑定数据库实现持持久化，需要把 <strong>Config Module Related Configurations</strong> 中的配置全部打开并配置正确的数据库参数，并且把 conf 目录中对应数据库的sql文件执行生成工作表。一切准备完毕后启动即可。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sh</span> startup.sh <span class="token parameter variable">-m</span> standalone
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+i+'" alt="Nacos 单机启动" tabindex="0" loading="lazy"><figcaption>Nacos 单机启动</figcaption></figure>',3),x={href:"http://127.0.0.1:8848/nacos/",target:"_blank",rel:"noopener noreferrer"},N=e('<ul><li>默认账号：nacos</li><li>默认密码：nacos</li></ul><figure><img src="'+u+'" alt="Nacos 登录界面" tabindex="0" loading="lazy"><figcaption>Nacos 登录界面</figcaption></figure><p>添加测试配置文件，查看数据库是否配置完成。</p><figure><img src="'+r+'" alt="Nacos 配置列表" tabindex="0" loading="lazy"><figcaption>Nacos 配置列表</figcaption></figure><figure><img src="'+d+'" alt="Nacos MySQL" tabindex="0" loading="lazy"><figcaption>数据库是否配置生效</figcaption></figure><h3 id="nacos客户端启动注册" tabindex="-1"><a class="header-anchor" href="#nacos客户端启动注册" aria-hidden="true">#</a> Nacos客户端启动注册</h3><p>准备一个 Spring boot 项目，这里建议使用下面阿里云网站进行构建，如果你使用 Spring 官网的工具会发现在 IDEA 中添加依赖的时候找不到 Nacos ，还需要自己去添加。并且使用阿里云构建项目会在项目中给你添加 demo 示例，这里让我想到看过的一个视频里说：“这些生成的配置在我的代码里完全是画蛇添足！”哈哈哈哈，现在想到这句话我都觉得很逗。</p>',7),E={href:"https://start.aliyun.com",target:"_blank",rel:"noopener noreferrer"},w=e(`<p>下面是要添加的关键依赖：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-nacos-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 确认从2021.0.5版本起，Spring Cloud将不再默认启用bootstrap包，需自行引入 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-bootstrap<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.0.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后配置好配置文件并像 Eureka 一样在启动类或者配置类中添加<code>@EnableDiscoveryClient</code>客户端注解即可。</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span> <span class="token comment"># 应用服务 WEB 访问端口</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> nacos<span class="token punctuation">-</span>demo <span class="token comment"># 服务注册名称</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">config</span><span class="token punctuation">:</span>
        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span> <span class="token comment"># 服务注册地址</span>
        <span class="token key atrule">username</span><span class="token punctuation">:</span> nacos
        <span class="token key atrule">password</span><span class="token punctuation">:</span> nacos
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+g+'" alt="Nacos 登录界面" tabindex="0" loading="lazy"><figcaption>服务注册成功</figcaption></figure>',5);function z(S,q){const s=o("ExternalLinkIcon");return c(),l("div",null,[m,b,n("blockquote",null,[n("p",null,[n("a",v,[a("https://nacos.io/zh-cn/docs/v2/what-is-nacos.html"),t(s)])])]),h,f,_,n("blockquote",null,[n("p",null,[n("a",y,[a("https://github.com/alibaba/nacos/tags"),t(s)])])]),I,n("blockquote",null,[n("p",null,[n("a",x,[a("http://127.0.0.1:8848/nacos/"),t(s)])])]),N,n("blockquote",null,[n("p",null,[n("a",E,[a("https://start.aliyun.com"),t(s)])])]),w])}const B=p(k,[["render",z],["__file","nacos.html.vue"]]);export{B as default};
