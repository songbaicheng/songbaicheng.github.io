import{_ as l}from"./plugin-vue_export-helper-c27b6911.js";import{r as a,o as p,c as i,d as t,w as u,a as n,b as s,e}from"./app-ceea1a5c.js";const r={},k=n("h1",{id:"servlet",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#servlet","aria-hidden":"true"},"#"),s(" Servlet")],-1),d=e('<h2 id="servlet-是什么" tabindex="-1"><a class="header-anchor" href="#servlet-是什么" aria-hidden="true">#</a> Servlet 是什么</h2><p>Java Servlet 是运行在 Web 服务器或应用服务器上的程序，它是作为来自 Web 浏览器或其他 HTTP 客户端的请求和 HTTP 服务器上的数据库或应用程序之间的中间层。</p><p>Servlet 执行以下主要任务：</p><ul><li>读取客户端（浏览器）发送的显式的数据。这包括网页上的 HTML 表单，或者也可以是来自 applet 或自定义的 HTTP 客户端程序的表单。</li><li>读取客户端（浏览器）发送的隐式的 HTTP 请求数据。这包括 cookies、媒体类型和浏览器能理解的压缩格式等等。</li><li>处理数据并生成结果。这个过程可能需要访问数据库，执行 RMI 或 CORBA 调用，调用 Web 服务，或者直接计算得出对应的响应。</li><li>发送显式的数据（即文档）到客户端（浏览器）。该文档的格式可以是多种多样的，包括文本文件（HTML 或 XML）、二进制文件（GIF 图像）、Excel 等。</li><li>发送隐式的 HTTP 响应到客户端（浏览器）。这包括告诉浏览器或其他客户端被返回的文档类型（例如 HTML），设置 cookies 和缓存参数，以及其他类似的任务。</li></ul><h2 id="快速开始" tabindex="-1"><a class="header-anchor" href="#快速开始" aria-hidden="true">#</a> 快速开始</h2>',5),m=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("javax"),n("span",{class:"token punctuation"},"."),s("servlet"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"ServletException")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("javax"),n("span",{class:"token punctuation"},"."),s("servlet"),n("span",{class:"token punctuation"},"."),s("annotation"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"WebServlet")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("javax"),n("span",{class:"token punctuation"},"."),s("servlet"),n("span",{class:"token punctuation"},"."),s("http"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"HttpServlet")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("javax"),n("span",{class:"token punctuation"},"."),s("servlet"),n("span",{class:"token punctuation"},"."),s("http"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"HttpServletRequest")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("javax"),n("span",{class:"token punctuation"},"."),s("servlet"),n("span",{class:"token punctuation"},"."),s("http"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"HttpServletResponse")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("io"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"IOException")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token doc-comment comment"},[s(`/**
 * `),n("span",{class:"token keyword"},"@description"),s(` Servlet demo
 */`)]),s(`
`),n("span",{class:"token annotation punctuation"},"@WebServlet"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/servlet"'),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"MyServlet"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"HttpServlet"),s(),n("span",{class:"token punctuation"},"{"),s(`

    `),n("span",{class:"token doc-comment comment"},`/**
     * 服务器关闭或者容器停止则调用此方法
     */`),s(`
    `),n("span",{class:"token annotation punctuation"},"@Override"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"destroy"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),s("out"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"println"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"我是 destroy 方法"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token doc-comment comment"},`/**
     * 请求到达servlet容器会判断被请求的servlet是否存在，如果不存在则创建容器
     */`),s(`
    `),n("span",{class:"token annotation punctuation"},"@Override"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"init"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"ServletException"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),s("out"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"println"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"MyServlet 被创建了！"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token doc-comment comment"},`/**
     * 有请求到达servlet容器就会被调用
     */`),s(`
    `),n("span",{class:"token annotation punctuation"},"@Override"),s(`
    `),n("span",{class:"token keyword"},"protected"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"service"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"HttpServletRequest"),s(" req"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"HttpServletResponse"),s(" resp"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"ServletException"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"IOException"),s(),n("span",{class:"token punctuation"},"{"),s(`

        resp`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setCharacterEncoding"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"UTF-8"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        resp`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setContentType"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"text/html;charset-utf-8"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        resp`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setHeader"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Content-Type"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"text/html;charset=utf-8"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),s("out"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"println"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"我是 service 方法"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        resp`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getWriter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"write"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"我是 service 方法"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token annotation punctuation"},"@Override"),s(`
    `),n("span",{class:"token keyword"},"protected"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"doGet"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"HttpServletRequest"),s(" req"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"HttpServletResponse"),s(" resp"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"ServletException"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"IOException"),s(),n("span",{class:"token punctuation"},"{"),s(`

        resp`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setCharacterEncoding"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"UTF-8"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        resp`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setContentType"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"text/html;charset-utf-8"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        resp`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setHeader"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Content-Type"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"text/html;charset=utf-8"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),s("out"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"println"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"我是 doGet 方法"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        resp`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getWriter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"write"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"我是 doGet 方法"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token annotation punctuation"},"@Override"),s(`
    `),n("span",{class:"token keyword"},"protected"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"doPost"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"HttpServletRequest"),s(" req"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"HttpServletResponse"),s(" resp"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"ServletException"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"IOException"),s(),n("span",{class:"token punctuation"},"{"),s(`

        resp`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setCharacterEncoding"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"UTF-8"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        resp`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setContentType"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"text/html;charset-utf-8"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        resp`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setHeader"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Content-Type"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"text/html;charset=utf-8"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),s("out"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"println"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"我是 doPost 方法"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        resp`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getWriter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"write"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"我是 doPost 方法"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),v=e('<h2 id="servlet-生命周期" tabindex="-1"><a class="header-anchor" href="#servlet-生命周期" aria-hidden="true">#</a> Servlet 生命周期</h2><p>Servlet 生命周期可被定义为从创建直到毁灭的整个过程。以下是 Servlet 遵循的过程：</p><ol><li>Servlet 初始化后调用 init () 方法。</li><li>Servlet 调用 service() 方法来处理客户端的请求。</li><li>Servlet 销毁前调用 destroy() 方法。</li><li>Servlet 是由 JVM 的垃圾回收器进行垃圾回收的。</li></ol><h3 id="init-方法" tabindex="-1"><a class="header-anchor" href="#init-方法" aria-hidden="true">#</a> init 方法</h3><p>init 方法被设计成只调用一次。它在第一次创建 Servlet 时被调用，在后续每次用户请求时不再调用。当用户调用一个 Servlet 时，就会创建一个 Servlet 实例，每一个用户请求都会产生一个新的线程，适当的时候移交给 doGet 或 doPost 方法。init() 方法简单地创建或加载一些数据，这些数据将被用于 Servlet 的整个生命周期。</p><h3 id="service-方法" tabindex="-1"><a class="header-anchor" href="#service-方法" aria-hidden="true">#</a> service 方法</h3><p>service() 方法是执行实际任务的主要方法。Servlet 容器（即 Web 服务器）调用 service() 方法来处理来自客户端（浏览器）的请求，并把格式化的响应写回给客户端。</p><p>每次服务器接收到一个 Servlet 请求时，服务器会产生一个新的线程并调用服务。service() 方法检查 HTTP 请求类型（GET、POST、PUT、DELETE 等），并在适当的时候调用 doGet、doPost、doPut，doDelete 等方法。</p><h3 id="doget-方法" tabindex="-1"><a class="header-anchor" href="#doget-方法" aria-hidden="true">#</a> doGet 方法</h3><p>GET 请求来自于一个 URL 的正常请求，或者来自于一个未指定 method 的 HTML 表单，它由 doGet() 方法处理。</p><h3 id="dopost-方法" tabindex="-1"><a class="header-anchor" href="#dopost-方法" aria-hidden="true">#</a> doPost 方法</h3><p>POST 请求来自于一个特别指定了 method 为 POST 的 HTML 表单，它由 doPost() 方法处理。</p><h3 id="destroy-方法" tabindex="-1"><a class="header-anchor" href="#destroy-方法" aria-hidden="true">#</a> destroy 方法</h3><p>destroy() 方法只会被调用一次，在 Servlet 生命周期结束时被调用。destroy() 方法可以让您的 Servlet 关闭数据库连接、停止后台线程、把 Cookie 列表或点击计数器写入到磁盘，并执行其他类似的清理活动。在调用 destroy() 方法之后，servlet 对象被标记为垃圾回收。</p><h2 id="实现-servlet" tabindex="-1"><a class="header-anchor" href="#实现-servlet" aria-hidden="true">#</a> 实现 Servlet</h2>',15);function b(h,y){const o=a("Mermaid"),c=a("CodeDemo");return p(),i("div",null,[k,t(o,{id:"mermaid-3",code:"eJzLzcxLyU0s4FJQKMrPL9HQCE4tKstJLVF4Pn/pi/Vtz5t2amoC5UDAIyQkQOFpb/+LdeugIiH5ucmJJQrP5vQ+7Vr4dOYKqDDUiOezWp6um/e8bwNMf0lJAVQqKLWwNLW4ROHp+p0vNi5Ek0/NAcoXF+TnFaeiKnDOz8/ORBODaCouzszPQ5WA2uScn1eSWoFm07Np7U92b3uyo+vJngVPJ/U82dH9Yu9eLgCKRXBT"}),d,t(c,{id:"code-demo-43",type:"normal",title:"Servlet%20demo",code:"eJztVF1rE0EU/SvDPiWh2byKRQhItT5IxVb6si/b3bEZSWa2M5M0oRRstbKKBQWtbQ2CRUpAYlP6oK2hvyazjU/9C97Jbj5Kk+bjucOyX3PPvfecc3fXjBd2wTbuGiTnMS6RfiqaAvNCFktzPrzOFB3sScLotEX7xtmUMmnrCHMRL0WoQcEZKT1zFk5jxj3FK3ksxggXHqMCX403CTMfzfUSsmgqkbAoSqC0i4XDSWsDRVmQi3NM76Ysmu5yi1lGKipsGXGLevmlLHGQk7WFQI9LbTAuSkxdgXraQmu6JIIVltUrgYLytnr3Xe1V1NbJvy/VwN9pvtxSv071m41yUD1Q/l6z9uriUyWo/gh2ToOTz20sNKav6bkC5py4OHyMGiow4gIFITkrxeK6dgsEa74kJM6ZLC9NjxMqsxQ4Bf7HYPeoDUBRISMOMmnMer/Wm0e/g+NN5dea5+eRJGHjjfq+8qHZavPgZxh0sf86ioAq6sOhqu6qcuWy/l4dbgbfyo0/2+EbIKv8r+rvWZhodKaEEgk0ZYazVdG2sGP2UPpd46DlsIPG2ZvL+sYQCYLy24EqqNoxCKElaNk3hAtnEjsSuyEdnYg4OHb9I0Acr0z1jlV72mFDeAMVmEI9s9+dRL00Dr4leT9jcxta4DPUYS6hy6DLs4UHyTtdDa6EMwojLhdKHoZACQOfyshcdtqBNLCdzMvng6Cz2HYxB1SUI6mTWMYU6pPnXk+e0WY40u7aDHc6WMZykRMgGoubq/pmOLZj/s22uewh/CFuTRvftJZyE1nWHzmyYU+YuHVsMse0dBNa1hcKnsFhrP8HvoZNxg=="},{default:u(()=>[m]),_:1}),v])}const x=l(r,[["render",b],["__file","servlet.html.vue"]]);export{x as default};
